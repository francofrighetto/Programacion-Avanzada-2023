<app-header></app-header>

<div class="d-flex">
    <div class="col-5 ">
        <label for="inputFecha">Fecha Creada</label>
        <input type="date" id="inputFecha" class="form-control" name="inputFecha" placeholder="" formControlName="inputFecha" [class.is-invalid]="formRegister.get('inputFecha')?.touched && formRegister.get('inputFecha')?.invalid" [class.is-valid]="formRegister.get('inputFecha')?.valid">
        <br>
    </div>
    <div class="col-5 ms-5">
        <label for="inputFechaFin">Fecha Finalizada</label>
        <input type="date" id="inputFechaFin" class="form-control" name="inputFechaFin" placeholder="" formControlName="inputFechaFin">
        <br>
    </div>
</div>
<h2 class="text-center pt-3">Tiempos estimados y reales por cada servicio</h2>
<div style=" display: block; width: 70%; " class="text-center mx-auto " *ngIf="mostrarHistograma ">
    <canvas baseChart [datasets]="barChartData " [labels]="barChartLabels " [options]="barChartOptions " [legend]="barChartLegend ">
        </canvas>
</div>
<div *ngIf="serviciosLentos.length!=0" class="text-center">
    <h5>El/los siguiente/s servicio/s tienen un retardo de 20 minutos como minimo: </h5>
    <span *ngFor=" let servicio of serviciosLentos ">- {{servicio}}<br></span>
</div>
<div *ngIf="serviciosLentos.length==0" class="text-center">
    <h5>Ningun servicio tiene un retardo de 20 minutos como minimo</h5>
</div>
<mat-divider class="my-5"></mat-divider>
<h2 class="text-center ">Porcentaje de servicios utilizados</h2>
<h5 class="text-center ">Total {{totalPrcentaje}} detalles con servicio</h5>
<div style="display: block; width: 30%; " class="text-center mx-auto " *ngIf="mostrarCirculo ">
    <canvas baseChart class="chart " [data]="pieChartData " [type]="pieChartType " [options]="pieChartOptions " [plugins]="pieChartPlugins ">
</canvas>
</div>

<mat-divider class="my-5"></mat-divider>

<h3 class="text-center pt-3 ">NÃºmeros sobre ordenes de trabajo</h3>
<div class="row w-100 justify-content-around ">
    <span class="col-4 bg-danger py-4 ">Sin terminar: {{estadisticaOrden.noTerminado}}</span>
    <span class="col-4 bg-success py-4 ">Terminadas: {{estadisticaOrden.terminado}}</span>
</div>
<div class="row container justify-content-around mt-2 ">

    <span class="col-4 bg-info py-4 ">Total ordenes: {{estadisticaOrden.noTerminado + estadisticaOrden.terminado}}</span>

    <span class="col-4 bg-primary py-4 ">Total recaudado: ${{estadisticaOrden.total}}</span>
</div>